<main>
    <section id="main_content">
        <div id="monster_selector">
            <mat-form-field id="monster_select" appearance="outline">
                <mat-label>Monster</mat-label>
                <mat-autocomplete #auto="matAutocomplete" (optionSelected)="select_monster($event.option.value)">
                    @for (monster of filtered_monsters | async; track monster) {
                        <mat-option [value]="monster">{{monster}}</mat-option>
                    }
                </mat-autocomplete>
                <input matInput id="monster_select_input" type="text" placeholder="Select Monster" [matAutocomplete]="auto"
                       [formControl]="monster_select"
                       (focusin)="clear_input()" (focusout)="restore_input()">
            </mat-form-field>
        </div>

        <div id="monster_data">
            <mat-table id="hitzone_values" [dataSource]="selected_monster.hitzones">
                <ng-container matColumnDef="part_name">
                    <th mat-header-cell *matHeaderCellDef>Part</th>
                    <td mat-cell *matCellDef="let hitzone">{{hitzone.part_name}}</td>
                </ng-container>
                <ng-container matColumnDef="state">
                    <th mat-header-cell *matHeaderCellDef>State</th>
                    <td mat-cell *matCellDef="let hitzone">{{hitzone.state}}</td>
                </ng-container>
                <ng-container matColumnDef="sever">
                    <th mat-header-cell *matHeaderCellDef>Sever</th>
                    <td mat-cell *matCellDef="let hitzone">{{hitzone.sever}} <span class="wounded_hitzone_value">({{selected_monster.wounded_hitzones.get(hitzone.part_name)?.sever}})</span></td>
                </ng-container>
                <ng-container matColumnDef="blunt">
                    <th mat-header-cell *matHeaderCellDef>Blunt</th>
                    <td mat-cell *matCellDef="let hitzone">{{hitzone.blunt}} <span class="wounded_hitzone_value">({{selected_monster.wounded_hitzones.get(hitzone.part_name)?.blunt}})</span></td>
                </ng-container>
                <ng-container matColumnDef="ammo">
                    <th mat-header-cell *matHeaderCellDef>Ammo</th>
                    <td mat-cell *matCellDef="let hitzone">{{hitzone.ammo}} <span class="wounded_hitzone_value">({{selected_monster.wounded_hitzones.get(hitzone.part_name)?.ammo}})</span></td>
                </ng-container>
                <ng-container matColumnDef="fire">
                    <th mat-header-cell *matHeaderCellDef>Fire</th>
                    <td mat-cell *matCellDef="let hitzone">{{hitzone.fire}} <span class="wounded_hitzone_value">({{selected_monster.wounded_hitzones.get(hitzone.part_name)?.fire}})</span></td>
                </ng-container>
                <ng-container matColumnDef="water">
                    <th mat-header-cell *matHeaderCellDef>Water</th>
                    <td mat-cell *matCellDef="let hitzone">{{hitzone.water}} <span class="wounded_hitzone_value">({{selected_monster.wounded_hitzones.get(hitzone.part_name)?.water}})</span></td>
                </ng-container>
                <ng-container matColumnDef="thunder">
                    <th mat-header-cell *matHeaderCellDef>Thunder</th>
                    <td mat-cell *matCellDef="let hitzone">{{hitzone.thunder}} <span class="wounded_hitzone_value">({{selected_monster.wounded_hitzones.get(hitzone.part_name)?.thunder}})</span></td>
                </ng-container>
                <ng-container matColumnDef="ice">
                    <th mat-header-cell *matHeaderCellDef>Ice</th>
                    <td mat-cell *matCellDef="let hitzone">{{hitzone.ice}} <span class="wounded_hitzone_value">({{selected_monster.wounded_hitzones.get(hitzone.part_name)?.ice}})</span></td>
                </ng-container>
                <ng-container matColumnDef="dragon">
                    <th mat-header-cell *matHeaderCellDef>Dragon</th>
                    <td mat-cell *matCellDef="let hitzone">{{hitzone.dragon}} <span class="wounded_hitzone_value">({{selected_monster.wounded_hitzones.get(hitzone.part_name)?.dragon}})</span></td>
                </ng-container>
                <ng-container matColumnDef="stun">
                    <th mat-header-cell *matHeaderCellDef>Stun</th>
                    <td mat-cell *matCellDef="let hitzone">{{hitzone.stun}}</td>
                </ng-container>
                <ng-container matColumnDef="kinsect_extract">
                    <th mat-header-cell *matHeaderCellDef>Kinsect Extract</th>
                    <td mat-cell *matCellDef="let hitzone">{{hitzone.kinsect_extract}}</td>
                </ng-container>
                <tr mat-header-row class="table-header" *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns" class="table-row"></tr>
            </mat-table>
        </div>
    </section>
</main>